# Student Attendance MVP

학생 출석 관리 시스템 MVP 프로젝트입니다.
Electron 기반의 데스크탑 애플리케이션으로, 로컬 환경에서 안정적으로 출석 데이터를 관리할 수 있도록 설계되었습니다.

## 🚀 프로젝트 실행 방법

이 프로젝트는 Monorepo 구조로 되어 있어 루트에서 한 번에 실행하거나 각 앱을 개별적으로 실행할 수 있습니다.

### 사전 요구사항 (Prerequisites)
- **Node.js**: v18 이상 권장
- **npm**: v9 이상

### 설치 및 초기화 (Installation & Setup)
프로젝트 루트에서 의존성을 설치하고 공통 패키지를 빌드합니다.
```bash
npm install
npm run build:shared
```

### 개발 모드 실행 (Development)
각 명령어는 **새로운 터미널 창**을 열어서 실행해 주세요.

1.  **Backend 실행** (필수)
    ```bash
    # 처음 실행하거나 shared 코드가 변경된 경우 npm run build:shared를 먼저 실행해야 합니다.
    npm run start:backend
    ```
    *   `http://localhost:3000`에서 백엔드 서버가 실행됩니다.
    *   SQLite DB는 메모리(`:memory:`) 기반으로 동작합니다.

2.  **Frontend 실행**
    ```bash
    npm run start:frontend
    ```
    *   `http://localhost:5173`에서 웹 버전을 확인할 수 있습니다.

3.  **Electron 실행**
    ```bash
    npm run start:electron
    ```
    *   **주의**: **Frontend 서버(`npm run start:frontend`)가 실행된 상태**여야 화면이 정상적으로 나옵니다.
    *   Electron 데스크탑 앱 창이 열립니다.

---

## 🛠 사용 기술 및 선택 이유 (Tech Stack)

### 구조: Monorepo (npm workspaces)
- **선택 이유**:
    - **리뷰 편의성 (단일 저장소)**: 면접 과제 특성상 검토하시는 분이 **하나의 저장소(`git clone`)만으로 백엔드, 프론트엔드, 데스크탑 앱 코드를 모두 확인하고 실행**해볼 수 있도록 하여 접근성을 높였습니다.
    - **소규모 팀 최적화**: 소규모 조직에서는 적은 인원이 여러 영역을 기민하게 오가며 개발해야 합니다. 이때 문맥 전환 비용을 줄이고 `packages/shared`를 통해 타입을 공유할 수 있는 Monorepo 방식이 효율적이라 판단했습니다.
    - **통합 관리**: Frontend(Vue), Backend(NestJS), Electron의 배포 파이프라인을 단순화하고 코드 재사용성을 높였습니다.

### Backend: NestJS + TypeORM + SQLite
- **NestJS (과제 필수)**: 과제 요구사항에 따라 NestJS를 사용했습니다. 견고한 아키텍처(모듈, 컨트롤러, 서비스 등) 덕분에 확장성 있는 구조를 잡기에 용이했습니다.
- **TypeORM**:
    - **생산성**: 3일이라는 짧은 개발 기간 내에 완성도를 높이기 위해, 제가 가장 익숙하고 숙련도가 높은 ORM을 선택하였습니다.
    - **철학적 일치**: NestJS의 핵심 철학인 데코레이터 패턴과 객체지향적 설계를 가장 잘 따르고 있어, 아키텍처의 통일성을 유지하기 좋다고 판단했습니다.
- **SQLite**: 면접 과제 특성상 별도의 데이터베이스 서버 설치나 복잡한 설정 없이, **가볍고 빠르게 실행**해 볼 수 있는 환경을 제공하기 위해 선택했습니다.

### Frontend: Vue 3 + Tailwind CSS
- **Vue 3 (과제 필수)**: 과제 요구사항에 맞춰 Vue 3의 Composition API(`script setup`)를 적극 활용하여, 컴포넌트 로직을 간결하고 재사용성 높게 구현했습니다.
- **Tailwind CSS**: 별도의 CSS 파일 관리 없이 클래스명만으로 빠르게 스타일링이 가능하여 개발 속도를 극대화할 수 있습니다.

### Desktop: Electron
- **선택 이유**: 웹 기술(HTML/CSS/JS)을 그대로 활용하여 크로스 플랫폼 데스크탑 앱을 만들 수 있는 가장 성숙한 프레임워크입니다.

---

## 🗄 데이터베이스 스키마 설계

데이터 무결성과 이력 관리를 최우선으로 고려하여 설계되었습니다.

### 1. Student (학생)
학생의 기본 정보를 관리합니다.
- `id`: PK
- `name`: 학생 이름
- `timestamps`: 생성/수정/삭제일 (Soft Delete 지원)

### 2. Attendance (출석)
핵심 도메인으로, **'학생 당, 날짜 당, 하나의 상태'**를 가집니다.
- `studentId`, `date`: 복합 유니크 키(Composite Unique Key)로 설정하여 중복 출석 방지.
- `status`: 출석 상태 (ENUM: PRESENT, LATE, ABSENT, UNRECORDED)
- `memo`: 지각/결석 사유 등 비고

### 3. AttendanceLog (출석 변경 이력)
출석 상태가 변경될 때마다 로그를 남겨 **데이터 변경 추적(Audit Trail)**을 가능하게 합니다.
- `studentId`, `date`, `status`, `createdAt`
- **설계 이유**: 선생님이 실수로 '결석' 처리했다가 '지각'으로 바꾼 경우, 언제 어떻게 바뀌었는지 이력이 남아야 나중에 오해를 방지할 수 있습니다.
- 트랜잭션을 통해 `Attendance` 테이블 업데이트와 동시에 `AttendanceLog` 생성이 보장됩니다.

---

## 💡 개발 시 고민했던 점 (Challenges & Reflections)

### 1. 단일 진실 공급원 (SSOT) 유지
프론트엔드와 백엔드가 상태값(Enum)을 서로 다르게 관리하여 발생할 수 있는 휴먼 에러를 방지하고자 했습니다.
- **해결**: Monorepo 구조의 이점을 살려 `packages/shared` 패키지를 구성하고, `AttendanceStatus`와 같은 상수를 공통으로 참조하도록 설정하여 정합성을 보장했습니다.

### 2. 사용자 경험 (UX) 중심의 UI 설계
단순한 관리 도구를 넘어, 실제 사용자가 편리하게 느낄 수 있는 인터페이스를 고민했습니다.
- **편의성 기능**: 날짜 범위 필터에 '오늘' 버튼을 두어 자주 쓰는 기간을 한 번에 선택하게 했고, 삭제 시 브라우저 기본 `alert` 대신 커스텀 스타일의 모달을 사용하여 일관된 디자인 톤을 유지했습니다.
- **시각화**: 상단에 요약 섹션을 두어 기간별 통계를 한눈에 파악할 수 있도록 배치했습니다.
- **엑셀 다운로드**: `xlsx` 라이브러리를 활용하여 현재 조회된 출석 현황을 즉시 엑셀 파일로 다운로드할 수 있는 기능을 구현, 데이터의 2차 활용성을 높였습니다.
- **파일명 자동화**: `출석현황_2024-02-01.xlsx`와 같이 날짜 범위를 파일명에 자동 반영하여 파일 관리의 편의성을 고려했습니다.

### 3. 데이터 무결성과 트랜잭션
`AttendanceService`의 비즈니스 로직에서 `DataSource`와 `EntityManager`를 활용해, 출석 상태 변경과 로그 생성이 원자적(Atomic)으로 처리되도록 트랜잭션을 구현했습니다.

### 4. 아키텍처와 관심사 분리
MVP 단계지만 나중에 기능이 확장될 것을 고려하여 견고한 구조를 잡고 싶었습니다.
- **Layered Architecture**: `Controller`는 요청 처리, `Service`는 비즈니스 로직, `Repository`는 DB 접근으로 역할을 철저히 분리했습니다.
- **일괄 처리 효율화**: 개별 출석뿐만 아니라 '일괄 출석' 기능을 구현하여 반복적인 작업을 최소화했습니다.

### 5. 개발 생산성 도구 활용 (Antigravity & Skills)
짧은 시간(3일) 내에 완성도 높은 결과를 내기 위해, AI 에이전트 도구인 `Antigravity`와 미리 정의된 `Skills`를 적극 활용하여 보일러플레이트 코드를 줄이고 핵심 로직 구현에 집중했습니다.

## 🚀 향후 개선 포인트 (Future Improvements)
MVP 개발 과정에서 시간 제약으로 인해 타협했거나, 추후 고도화가 필요한 부분들을 정리했습니다.

1. **프론트엔드 비즈니스 로직 분리**
   - 현재는 `Dashboard.vue`에 API 호출 로직이 집중되어 있습니다. MVP 단계라 복잡도가 낮아 유지했으나, 추후 규모가 커지면 Service Layer 패턴을 도입하여 뷰와 로직을 철저히 분리할 예정입니다.

2. **달력 UI 커스터마이징**
   - 브라우저 기본 `date` input 대신, 출석/지각/결석 현황을 달력 그리드 위에서 직관적으로 보여주는 커스텀 캘린더 도입을 고려하고 있습니다.

3. **학생 상세 페이지 및 정보 확장**
   - 모달 형식을 넘어 별도의 상세 페이지 라우팅(`views/StudentDetail.vue`)을 구현하고, 기본적인 출석 외에 상담 일지나 성적 추이 등을 관리할 수 있도록 확장하려 합니다.

4. **인증 및 데이터 소유권**
   - **로그인/보안**: 강사별 계정 시스템 및 JWT 인증 도입.
   - **데이터 연결**: 현재는 로컬/단일 사용자 환경이지만, 서버 도입 시 강사 ID(`instructorId`)를 기반으로 데이터 관계를 맺어 멀티 테넌시(Multi-tenancy)를 지원해야 합니다.

5. **개발 프로세스 (형상 관리)**
   - 짧은 시간 내 빠른 프로토타이핑을 위해 커밋 주기가 다소 불규칙하거나 뭉쳐진 점이 아쉽습니다. 실제 실무에서는 기능(Feature) 단위의 명확한 브랜치 전략과 커밋 컨벤션을 준수합니다.